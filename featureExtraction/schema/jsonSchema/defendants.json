{
    "$defs": {
        "AgeAtOffence": {
            "additionalProperties": false,
            "properties": {
                "age": {
                    "anyOf": [
                        {
                            "type": "integer"
                        },
                        {
                            "items": {
                                "type": "integer"
                            },
                            "type": "array"
                        }
                    ],
                    "description": "Exact age or estimated range at time of offence by using a list with two integers",
                    "title": "Age"
                },
                "source": {
                    "description": "The exact match source text from which the age at offence was extracted. Do not include any additional information in the source document.",
                    "title": "Source",
                    "type": "string"
                }
            },
            "required": [
                "age",
                "source"
            ],
            "title": "AgeAtOffence",
            "type": "object"
        },
        "AgeAtSentencing": {
            "additionalProperties": false,
            "properties": {
                "age": {
                    "anyOf": [
                        {
                            "type": "integer"
                        },
                        {
                            "items": {
                                "type": "integer"
                            },
                            "type": "array"
                        }
                    ],
                    "description": "Exact age or estimated range at sentencing by using a list with two integers",
                    "title": "Age"
                },
                "source": {
                    "description": "The exact match source text from which the age at sentencing was extracted. Do not include any additional information in the source document.",
                    "title": "Source",
                    "type": "string"
                }
            },
            "required": [
                "age",
                "source"
            ],
            "title": "AgeAtSentencing",
            "type": "object"
        },
        "CriminalRecord": {
            "enum": [
                "None",
                "Drug trafficking",
                "Dangerous drug offences",
                "Other offences"
            ],
            "title": "CriminalRecord",
            "type": "string"
        },
        "CriminalRecordDetail": {
            "additionalProperties": false,
            "properties": {
                "record": {
                    "$ref": "#/$defs/CriminalRecord"
                },
                "source": {
                    "description": "The exact match source text from which the criminal record was extracted. Do not include any additional information in the source document.",
                    "title": "Source",
                    "type": "string"
                }
            },
            "required": [
                "record",
                "source"
            ],
            "title": "CriminalRecordDetail",
            "type": "object"
        },
        "CustodyStatus": {
            "enum": [
                "Parent with custody",
                "Parent without custody"
            ],
            "title": "CustodyStatus",
            "type": "string"
        },
        "DefendantNameDetail": {
            "additionalProperties": false,
            "properties": {
                "name": {
                    "description": "Full name of the defendant as appearing in the judgment",
                    "title": "Name",
                    "type": "string"
                },
                "source": {
                    "description": "The exact match source text from which the name was extracted. Do not include any additional information in the source document.",
                    "title": "Source",
                    "type": "string"
                }
            },
            "required": [
                "name",
                "source"
            ],
            "title": "DefendantNameDetail",
            "type": "object"
        },
        "DefendantProfile": {
            "additionalProperties": false,
            "properties": {
                "defendant_id": {
                    "description": "Defendant ID in the prompt",
                    "title": "Defendant Id",
                    "type": "integer"
                },
                "defendant_name": {
                    "$ref": "#/$defs/DefendantNameDetail"
                },
                "nationality": {
                    "anyOf": [
                        {
                            "$ref": "#/$defs/Nationality"
                        },
                        {
                            "type": "null"
                        }
                    ],
                    "default": null,
                    "description": "Infer nationality if not explicitly stated, (e.g., the defendant\u2019s name (if culturally indicative), place of birth, location or system of education). Do not infer nationality based on the court location or setting."
                },
                "age_at_offence": {
                    "anyOf": [
                        {
                            "$ref": "#/$defs/AgeAtOffence"
                        },
                        {
                            "type": "null"
                        }
                    ],
                    "default": null
                },
                "age_at_sentencing": {
                    "anyOf": [
                        {
                            "$ref": "#/$defs/AgeAtSentencing"
                        },
                        {
                            "type": "null"
                        }
                    ],
                    "default": null
                },
                "gender": {
                    "anyOf": [
                        {
                            "$ref": "#/$defs/GenderDetail"
                        },
                        {
                            "type": "null"
                        }
                    ],
                    "default": null,
                    "description": "Gender of the defendant, try to infer from (he/she/\u4ed6/\u5979) if not explicitly stated"
                },
                "marital_status": {
                    "anyOf": [
                        {
                            "$ref": "#/$defs/MaritalStatusDetail"
                        },
                        {
                            "type": "null"
                        }
                    ],
                    "default": null
                },
                "parental_status": {
                    "anyOf": [
                        {
                            "$ref": "#/$defs/ParentalStatus"
                        },
                        {
                            "type": "null"
                        }
                    ],
                    "default": null
                },
                "household_composition": {
                    "anyOf": [
                        {
                            "$ref": "#/$defs/HouseholdCompositionDetail"
                        },
                        {
                            "type": "null"
                        }
                    ],
                    "default": null
                },
                "health_status": {
                    "anyOf": [
                        {
                            "$ref": "#/$defs/HealthStatus"
                        },
                        {
                            "type": "null"
                        }
                    ],
                    "default": null
                },
                "drug_treatment_participation": {
                    "anyOf": [
                        {
                            "$ref": "#/$defs/DrugTreatmentDetail"
                        },
                        {
                            "type": "null"
                        }
                    ],
                    "default": null
                },
                "education_level": {
                    "anyOf": [
                        {
                            "$ref": "#/$defs/EducationLevelDetail"
                        },
                        {
                            "type": "null"
                        }
                    ],
                    "default": null
                },
                "occupation": {
                    "anyOf": [
                        {
                            "$ref": "#/$defs/Occupation"
                        },
                        {
                            "type": "null"
                        }
                    ],
                    "default": null
                },
                "monthly_wage": {
                    "anyOf": [
                        {
                            "$ref": "#/$defs/MonthlyWageDetail"
                        },
                        {
                            "type": "null"
                        }
                    ],
                    "default": null,
                    "description": "null means not mentioned at all; use 0 if unemployed"
                },
                "criminal_record": {
                    "anyOf": [
                        {
                            "$ref": "#/$defs/CriminalRecordDetail"
                        },
                        {
                            "type": "null"
                        }
                    ],
                    "default": null
                },
                "positive_habits_after_arrest": {
                    "anyOf": [
                        {
                            "$ref": "#/$defs/PositiveHabitDetail"
                        },
                        {
                            "type": "null"
                        }
                    ],
                    "default": null
                },
                "family_supports": {
                    "anyOf": [
                        {
                            "items": {
                                "$ref": "#/$defs/FamilySupportDetail"
                            },
                            "type": "array"
                        },
                        {
                            "type": "null"
                        }
                    ],
                    "default": null,
                    "title": "Family Supports"
                }
            },
            "required": [
                "defendant_id",
                "defendant_name"
            ],
            "title": "DefendantProfile",
            "type": "object"
        },
        "DrugTreatmentDetail": {
            "additionalProperties": false,
            "properties": {
                "participated": {
                    "description": "Whether the defendant participated in community or residential drug treatment",
                    "title": "Participated",
                    "type": "boolean"
                },
                "source": {
                    "description": "The exact match source text from which the drug treatment participation was extracted. Do not include any additional information in the source document.",
                    "title": "Source",
                    "type": "string"
                }
            },
            "required": [
                "participated",
                "source"
            ],
            "title": "DrugTreatmentDetail",
            "type": "object"
        },
        "EducationLevel": {
            "enum": [
                "Uneducated",
                "Primary",
                "Secondary - Lower",
                "Secondary - Upper",
                "Tertiary"
            ],
            "title": "EducationLevel",
            "type": "string"
        },
        "EducationLevelDetail": {
            "additionalProperties": false,
            "properties": {
                "level": {
                    "$ref": "#/$defs/EducationLevel",
                    "description": "Lower secondary: Including Secondary 1-3 or equivalent level; Upper secondary: Including Secondary 4-7 of old academic structure (1985-2011), Secondary 4-6 of new academic structure (2012 onwards) or equivalent level, Project Yi Jin/Yi Jin Diploma, Diploma of Applied Education and craft level"
                },
                "source": {
                    "description": "The exact match source text from which the education level was extracted. Do not include any additional information in the source document.",
                    "title": "Source",
                    "type": "string"
                }
            },
            "required": [
                "level",
                "source"
            ],
            "title": "EducationLevelDetail",
            "type": "object"
        },
        "FamilySupport": {
            "enum": [
                "None",
                "Family presence in court",
                "Letters of support from family",
                "Other"
            ],
            "title": "FamilySupport",
            "type": "string"
        },
        "FamilySupportDetail": {
            "additionalProperties": false,
            "properties": {
                "support": {
                    "$ref": "#/$defs/FamilySupport",
                    "description": "Type of family support present"
                },
                "source": {
                    "description": "The exact match source text from which the family support was extracted. Do not include any additional information in the source document.",
                    "title": "Source",
                    "type": "string"
                }
            },
            "required": [
                "support",
                "source"
            ],
            "title": "FamilySupportDetail",
            "type": "object"
        },
        "Gender": {
            "enum": [
                "Male",
                "Female"
            ],
            "title": "Gender",
            "type": "string"
        },
        "GenderDetail": {
            "additionalProperties": false,
            "properties": {
                "gender": {
                    "$ref": "#/$defs/Gender"
                },
                "source": {
                    "description": "The exact match source text from which the gender was extracted. Do not include any additional information in the source document.",
                    "title": "Source",
                    "type": "string"
                }
            },
            "required": [
                "gender",
                "source"
            ],
            "title": "GenderDetail",
            "type": "object"
        },
        "HKResidentStatus": {
            "enum": [
                "Permanent resident",
                "New arrival",
                "N/A"
            ],
            "title": "HKResidentStatus",
            "type": "string"
        },
        "HealthStatus": {
            "additionalProperties": false,
            "properties": {
                "conditions": {
                    "description": "List of health status items found in the judgment",
                    "items": {
                        "$ref": "#/$defs/HealthStatusCondition"
                    },
                    "title": "Conditions",
                    "type": "array"
                }
            },
            "required": [
                "conditions"
            ],
            "title": "HealthStatus",
            "type": "object"
        },
        "HealthStatusCondition": {
            "additionalProperties": false,
            "properties": {
                "type": {
                    "$ref": "#/$defs/HealthStatusType",
                    "description": "Type of health status"
                },
                "source": {
                    "description": "The exact match source text from which the health status was extracted. Do not include any additional information in the source document.",
                    "title": "Source",
                    "type": "string"
                }
            },
            "required": [
                "type",
                "source"
            ],
            "title": "HealthStatusCondition",
            "type": "object"
        },
        "HealthStatusType": {
            "enum": [
                "Drug addiction",
                "Mental health",
                "Physical health"
            ],
            "title": "HealthStatusType",
            "type": "string"
        },
        "HouseholdComposition": {
            "enum": [
                "Lives alone",
                "Lives with family",
                "Lives with non-family",
                "Homeless"
            ],
            "title": "HouseholdComposition",
            "type": "string"
        },
        "HouseholdCompositionDetail": {
            "additionalProperties": false,
            "properties": {
                "composition": {
                    "$ref": "#/$defs/HouseholdComposition"
                },
                "source": {
                    "description": "The exact match source text from which the household composition was extracted. Do not include any additional information in the source document.",
                    "title": "Source",
                    "type": "string"
                }
            },
            "required": [
                "composition",
                "source"
            ],
            "title": "HouseholdCompositionDetail",
            "type": "object"
        },
        "MaritalStatus": {
            "enum": [
                "Single",
                "Married",
                "Separated/divorced",
                "Widowed",
                "Cohabiting"
            ],
            "title": "MaritalStatus",
            "type": "string"
        },
        "MaritalStatusDetail": {
            "additionalProperties": false,
            "properties": {
                "status": {
                    "$ref": "#/$defs/MaritalStatus"
                },
                "source": {
                    "description": "The exact match source text from which the marital status was extracted. Do not include any additional information in the source document.",
                    "title": "Source",
                    "type": "string"
                }
            },
            "required": [
                "status",
                "source"
            ],
            "title": "MaritalStatusDetail",
            "type": "object"
        },
        "MonthlyWageDetail": {
            "additionalProperties": false,
            "properties": {
                "wage": {
                    "description": "Monthly wage at time of offence in HKD, 0 if unemployed",
                    "title": "Wage",
                    "type": "integer"
                },
                "source": {
                    "description": "The exact match source text from which the monthly wage was extracted. Do not include any additional information in the source document.",
                    "title": "Source",
                    "type": "string"
                }
            },
            "required": [
                "wage",
                "source"
            ],
            "title": "MonthlyWageDetail",
            "type": "object"
        },
        "Nationality": {
            "additionalProperties": false,
            "properties": {
                "category": {
                    "$ref": "#/$defs/NationalityCategory"
                },
                "hk_resident_status": {
                    "anyOf": [
                        {
                            "$ref": "#/$defs/HKResidentStatus"
                        },
                        {
                            "type": "null"
                        }
                    ],
                    "default": null,
                    "description": "Required if category is Hong Kong resident. To infer Hong Kong permanent resident status (b2), look for indications such as references to living in Hong Kong for seven or more years, or possession of a Hong Kong permanent identity card."
                },
                "foreign_country_code": {
                    "anyOf": [
                        {
                            "pattern": "^\\w{2}$",
                            "type": "string"
                        },
                        {
                            "type": "null"
                        }
                    ],
                    "default": null,
                    "description": "Required if category is Foreign nationality. Specify country code in ISO 3166-1 alpha-2 format",
                    "title": "Foreign Country Code"
                },
                "infer_reason": {
                    "anyOf": [
                        {
                            "type": "string"
                        },
                        {
                            "type": "null"
                        }
                    ],
                    "default": null,
                    "description": "Reason for inferring nationality, if applicable",
                    "title": "Infer Reason"
                },
                "source": {
                    "description": "The exact match source text from which the nationality was extracted. Do not include any additional information in the source document.",
                    "title": "Source",
                    "type": "string"
                }
            },
            "required": [
                "category",
                "source"
            ],
            "title": "Nationality",
            "type": "object"
        },
        "NationalityCategory": {
            "enum": [
                "Hong Kong resident",
                "Mainland Chinese",
                "Foreign nationality"
            ],
            "title": "NationalityCategory",
            "type": "string"
        },
        "Occupation": {
            "additionalProperties": false,
            "properties": {
                "occupation_category": {
                    "$ref": "#/$defs/OccupationCategory",
                    "description": "Occupation at time of offence."
                },
                "occupation_name": {
                    "anyOf": [
                        {
                            "type": "string"
                        },
                        {
                            "type": "null"
                        }
                    ],
                    "default": null,
                    "description": "Specific occupation name if available",
                    "title": "Occupation Name"
                },
                "source": {
                    "description": "The exact match source text from which the occupation was extracted. Do not include any additional information in the source document.",
                    "title": "Source",
                    "type": "string"
                }
            },
            "required": [
                "occupation_category",
                "source"
            ],
            "title": "Occupation",
            "type": "object"
        },
        "OccupationCategory": {
            "enum": [
                "Unemployed",
                "Manager",
                "Professional",
                "Associate professional",
                "Clerical support worker",
                "Service and sales worker",
                "Craft and related worker",
                "Plant and machine operator and assembler",
                "Elementary occupation",
                "Skilled agricultural and fishery worker",
                "Student",
                "Other"
            ],
            "title": "OccupationCategory",
            "type": "string"
        },
        "ParentalStatus": {
            "additionalProperties": false,
            "properties": {
                "status": {
                    "$ref": "#/$defs/ParentalStatusEnum"
                },
                "custody": {
                    "anyOf": [
                        {
                            "$ref": "#/$defs/CustodyStatus"
                        },
                        {
                            "type": "null"
                        }
                    ],
                    "default": null,
                    "description": "Only applicable if status is Parent. Parent with custody means: Has one or more children and primary or shared custody; Parent without custody means: Has one or more children but does not have custody (e.g., children live with another parent or guardian)"
                },
                "source": {
                    "description": "The exact match source text from which the parental status was extracted. Do not include any additional information in the source document.",
                    "title": "Source",
                    "type": "string"
                }
            },
            "required": [
                "status",
                "source"
            ],
            "title": "ParentalStatus",
            "type": "object"
        },
        "ParentalStatusEnum": {
            "enum": [
                "No children",
                "Parent",
                "Expecting parent"
            ],
            "title": "ParentalStatusEnum",
            "type": "string"
        },
        "PositiveHabit": {
            "enum": [
                "Volunteering",
                "Studying",
                "Working",
                "Negative drug tests",
                "Participation in rehabilitation/self-improvement"
            ],
            "title": "PositiveHabit",
            "type": "string"
        },
        "PositiveHabitDetail": {
            "additionalProperties": false,
            "properties": {
                "habits": {
                    "items": {
                        "$ref": "#/$defs/PositiveHabit"
                    },
                    "title": "Habits",
                    "type": "array"
                },
                "source": {
                    "description": "The exact match source text from which the positive habits was extracted. Do not include any additional information in the source document.",
                    "title": "Source",
                    "type": "string"
                }
            },
            "required": [
                "habits",
                "source"
            ],
            "title": "PositiveHabitDetail",
            "type": "object"
        }
    },
    "additionalProperties": false,
    "properties": {
        "defendants": {
            "description": "List of defendant profiles extracted from the judgment",
            "items": {
                "$ref": "#/$defs/DefendantProfile"
            },
            "title": "Defendants",
            "type": "array"
        }
    },
    "required": [
        "defendants"
    ],
    "title": "Defendants",
    "type": "object"
}